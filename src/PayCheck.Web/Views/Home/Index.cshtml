@model ARVTech.DataAccess.DTOs.UniPayCheck.UsuarioResponseDto

@{
    ViewData["Title"] = "Home Page";
}

@{
    var aniversariantes = ViewData["Aniversariantes"] as IEnumerable<dynamic>;
    var aniversariantesEmpresa = ViewData["AniversariantesEmpresa"] as IEnumerable<dynamic>;
}

@* https://www.c-sharpcorner.com/UploadFile/ff2f08/multiple-models-in-single-view-in-mvc/ *@

<!-- Begin Page Content -->
<div class="container-fluid">
    <!-- Content Row -->
    <div class="row">

        <!-- Content Column -->
        @* <div class="col-lg-6 mb-4"> *@

        <div class="col-xl-6 col-lg-6 col-md-6 mb-6">
            <div class="card shadow mb-4 border-left-primary shadow">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary text-uppercase mb-1"><i class="fas fa-fw fa-birthday-cake"></i><span>Aniversariantes</span></h6>
                </div>

                @if (aniversariantes != null && aniversariantes.Count() > 0)
                {
                    <div class="card-body">
                        @foreach (var aniversariante in aniversariantes)
                        {
                            <h6 class="bg-transparent border-primary small font-weight-bold text-gray-800">
                                @aniversariante.Nome <span class="float-right">@aniversariante.DataNascimentoString</span>
                            </h6>
                            <div class="progress mb-4">
                                @if (aniversariante.Indice > 0)
                                {
                                    var indice = 20;

                                    @if (aniversariante.Indice >= 0.01 && aniversariante.Indice < 7)
                                        indice = 80;
                                    else if (aniversariante.Indice >= 7.01 && aniversariante.Indice < 15)
                                        indice = 60;
                                    else if (aniversariante.Indice >= 15.01 && aniversariante.Indice < 22)
                                        indice = 40;

                                    <div class="progress-bar bg-primary" role="progressbar" style="width: @indice%" aria-valuenow="@indice" aria-valuemin="0" aria-valuemax="100"></div>
                                }
                                else
                                {
                                    <div class="progress-bar bg-primary" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                                }
                            </div>
                        }
                    </div>
                }
                else
                {
                    <div class="card-footer bg-transparent border-primary font-weight-bold text-uppercase text-gray-800">@string.Concat("Não foram encontrados Aniversariantes para o mês ", DateTime.Now.Month.ToString("00"), ".")</div>
                }
            </div>
        </div>

        @* <div class="col-lg-6 mb-4"> *@

        <div class="col-xl-6 col-lg-6 col-md-6 mb-6">
            <div class="card shadow mb-4 border-left-danger shadow">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-danger text-uppercase mb-1"><i class="fas fa-fw fa-building"></i><span>Aniversariantes de Empresa</span></h6>
                </div>

                @if (aniversariantesEmpresa != null && aniversariantesEmpresa.Count() > 0)
                {
                    <div class="card-body">
                        @foreach (var aniversarianteEmpresa in aniversariantesEmpresa)
                        {
                            <h6 class="bg-transparent border-danger small font-weight-bold text-gray-800">
                                @aniversarianteEmpresa.Nome <span class="float-right text-danger"><small class="text-muted">* Admitido em: @Convert.ToDateTime(aniversarianteEmpresa.DataAdmissao).ToString("dd/MM/yyyy")</small></span>
                            </h6>

                            <div class="progress mb-4">
                                @if (aniversarianteEmpresa.Indice > 0)
                                {
                                    var indice = 20;

                                    @if (aniversarianteEmpresa.Indice >= 0.01 && aniversarianteEmpresa.Indice < 7)
                                        indice = 80;
                                    else if (aniversarianteEmpresa.Indice >= 7.01 && aniversarianteEmpresa.Indice < 15)
                                        indice = 60;
                                    else if (aniversarianteEmpresa.Indice >= 15.01 && aniversarianteEmpresa.Indice < 22)
                                        indice = 40;

                                    <div class="progress-bar bg-danger" role="progressbar" style="width: @indice%" aria-valuenow="@indice" aria-valuemin="0" aria-valuemax="100"></div>
                                }
                                else
                                {
                                    <div class="progress-bar bg-danger" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                                }
                            </div>
                        }
                    </div>
                }
                else
                {
                    <div class="card-footer bg-transparent border-danger font-weight-bold text-uppercase text-gray-800">@string.Concat("Não foram encontrados Aniversariantes de Empresa para o mês ", DateTime.Now.Month.ToString("00"), ".")</div>
                }
            </div>

            <!-- Illustrations -->
            @* <div class="card shadow mb-4">
            <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary"><i class="fas fa-fw fa-building"></i><span>Aniversariantes de Empresa</span></h6>
            </div>
            <div class="card-body">
            <div class="text-center">
            <img class="img-fluid px-3 px-sm-4 mt-3 mb-4" style="width: 25rem;"
            src="img/undraw_posting_photo.svg" alt="...">
            </div>
            <p>
            Add some quality, svg illustrations to your project courtesy of <a target="_blank" rel="nofollow" href="https://undraw.co/">unDraw</a>, a
            constantly updated collection of beautiful svg images that you can use
            completely free and without attribution!
            </p>
            <a target="_blank" rel="nofollow" href="https://undraw.co/">
            Browse Illustrations on
            unDraw &rarr;
            </a>
            </div>
            </div> *@
        </div>
    </div>
</div>